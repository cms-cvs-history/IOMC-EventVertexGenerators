process PROD = 
{

   service = RandomNumberGeneratorService 
   {
      untracked uint32 sourceSeed = 98765
      PSet moduleSeeds = 
      {
         untracked uint32 VtxSmeared = 12345
      }
   }
   
# this will run plig-in energy-flat random particle gun
# and puts particles (HepMCPRoduct) into edm::Event 

   source = FlatRandomEGunSource 
   { 
      untracked int32 maxEvents = 10000
      PSet PGunParameters =
      {
	 # you can request more than 1 particle
	 #vint32  PartID = { 211, 11, -13 }
	 vint32 PartID = {13, -13, -13, 13} 
	 double MinEta = -3.5
	 double MaxEta =  3.5
	 double MinPhi = -3.14159265358979323846
	 double MaxPhi =  3.14159265358979323846
	 double MinE   = 9.99
	 double MaxE   = 10.01
      }
      untracked int32 Verbosity = 0 # for printouts, set it to 1 (or greater)   
   }
   
   module VtxSmeared = VertexGenerator
   {
         string type = "IOMC/EventVertexGenerators/GaussianEventVertexGenerator"
         double MeanX = 0.
         double MeanY = 0.
         double MeanZ = 0.
         double SigmaX = 0.015
         double SigmaY = 0.015
         double SigmaZ = 53.0
   }

#   module VtxSmeared = VertexGenerator
#   {
#      string type = "IOMC/EventVertexGenerators/FlatEventVertexGenerator"
#      double MinX =  -5.
#      double MaxX =   5.
#      double MinY = -10.
#      double MaxY =  10.
#      double MinZ = -53.
#      double MaxZ =  53.
#   }
    
    module VtxTest = VtxTester {}
       
# you can write your particles (HepMCProduct) out into a ROOT file;
# if you want the i/o option, make sure you include it in the path 
#
###   module Out = PoolOutputModule { untracked string fileName = "pgun.root" }    
   
   path p1 = { VtxSmeared, VtxTest }
   # path p1 = { VtxTest }
   
###   endpath outpath = { Out }

}
