process PROD = {

   service = RandomNumberGeneratorService
   {
      PSet moduleSeeds =
      {
         untracked uint32 VtxSmeared = 12345
      }
   }

   source = PythiaSource
   {
      untracked int32 maxEvents = 20
      untracked bool pythiaVerbosity = false
 
      PSet PythiaParameters =
      {
 
         # This is a vector of ParameterSet names to be read, in this order
         # The first two are in the include files below
         # The last one are simply my additional parameters
         vstring parameterSets =
         {
            "pythiaDefault",
            "pythiaMinBias",
            "myParameters"
         }
                                                                                                          
         # Default (mostly empty - to keep PYTHIA default) card file
         # Name of the set is "pythiaDefault"
         include "IOMC/GeneratorInterface/test/pythiaDefault.cfg"
 
         # Default cards for minimum bias events (unfiltered)
         # Name of the set is "pythiaMinBias"
         include "IOMC/GeneratorInterface/test/pythiaMinBias.cfg"
 
         # User cards - name is "myParameters"
         # Pythia's random generator initialization
         vstring myParameters =
         {
#            'MRPY(1)= 987654321 ! Automatic random if -1'
            'MRPY(1)= -1 ! Automatic random if -1'
         }
 
      }
   }


   
    module VtxSmeared = VertexGenerator
    {
       string type = "IOMC/EventVertexGenerators/GaussianEventVertexGenerator"
       double MeanX = 0.
       double MeanY = 0.
       double MeanZ = 0.
       double SigmaX = 0.015
       double SigmaY = 0.015
       double SigmaZ = 53.0       
    }
    
    module analysis_bare = HepMCProductAnalyzer
    {
       untracked string moduleLabel = 'PythiaSource'
    }
    module analysis_vtxsmeared = HepMCProductAnalyzer
    {
       untracked string moduleLabel = 'VtxSmeared'
    }   

    module out = PoolOutputModule { untracked string fileName = "pythia.root" }
    
    path p1 = { VtxSmeared, analysis_bare, analysis_vtxsmeared }
    endpath p = { out }
}
